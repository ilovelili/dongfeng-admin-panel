<header class="app-header navbar">
  <button class="navbar-toggler d-lg-none" type="button" appMobileSidebarToggler>
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="#"></a>
  <button class="navbar-toggler d-md-down-none" type="button" appSidebarToggler>
    <span class="navbar-toggler-icon"></span>
  </button>
  <ul class="nav navbar-nav ml-auto">
    <li class="nav-item dropdown d-md-down-none" dropdown placement="bottom right">
      <a class="nav-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"
        dropdownToggle (click)="false">
        <i class="icon-bell"></i><span class="badge badge-pill badge-danger">{{broadcasts.length}}</span>
      </a>
      <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg" *dropdownMenu aria-labelledby="simple-dropdown">
        <div class="dropdown-header text-center"><strong>{{broadcasts.length}} 条系统通知</strong></div>
        <a href="{{broadcast.Link}}" *ngFor="let broadcast of broadcasts" class="dropdown-item">
          <div class="text-truncate font-weight-bold">{{broadcast.Title}}</div>
          <div class="small text-muted text-truncate">{{broadcast.Content}}</div>          
        </a>
      </div>
    </li>

    <li class="nav-item dropdown d-md-down-none" dropdown placement="bottom right">
      <a class="nav-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" dropdownToggle (click)="false">
        <i class="icon-envelope-letter"></i><span class="badge badge-pill badge-info">{{notifications.length}}</span>
      </a>
      <div class="dropdown-menu dropdown-menu-right dropdown-menu-lg" *dropdownMenu aria-labelledby="simple-dropdown">
        <div class="dropdown-header text-center"><strong>您有 {{notifications.length}} 条信息</strong></div>
        <a href="#" *ngFor="let notification of notifications" class="dropdown-item">
            <div class="message">
                <div class="text-truncate font-weight-bold">{{notification.Title}}</div>
                <div class="small text-muted text-truncate">{{notification.Detail}}</div>
            </div>
        </a>
      </div>
    </li>

    <li class="nav-item dropdown" dropdown placement="bottom right">
      <a class="nav-link" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"
        dropdownToggle (click)="false">
        <img [src]="user.avatar" class="img-avatar" alt="avatar" />
      </a>
      <div class="dropdown-menu dropdown-menu-right" *dropdownMenu aria-labelledby="simple-dropdown">
        <div class="dropdown-header text-center"><strong>用户 {{user.id}}</strong></div>
        <a class="dropdown-item" href="#"><i class="fa fa-user"></i> 用户信息</a>
        <a class="dropdown-item" href="#" (click)="logout()"><i class="fa fa-lock"></i> 登出系统</a>
      </div>
    </li>
  </ul>
</header>